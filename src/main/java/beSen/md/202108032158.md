笔记：记录工作笔记
日期：2021年08月03日
天气：晴天


关于流程的需求
比如有这样二个节点，110040，110050
每个节点对应有多个父项编码 一个父项编码对应一个local_flow_id
一个local_flow_id对应多个node表(父项编码的在当前节点的进度信息)

数据模拟 节点是串行的，但是可以同时开启进行中

110040 节点

父项编码   local_flow_id        node_code   status      评审结论
1           100                 110040      进行中        未评审
            local_flow_id      node_code     status    
           100                 110050        进行中
           
  2                                                       评审结论
                               110040         完成              同意   下一个节点是进行，如果驳回，下一个节点未开始
 
  3                                                      评审结论
                               110040        未开始           驳回        
           
110050 节点

父项编码   local_flow_id        node_code   status
1           100                 110040      进行中
           local_flow_id      node_code     status
          100                 110050        进行中
          

110040 节点 对父项编码1进行批量同意，同意的不修改，未评审的status修改为完成，评审结论修改为同意
如果同意的进行批量驳回  评审结论 驳回  驳回原因必填  状态变成未开始  ，前一个节点 状态变进行中，后一个节点状态 unstart
如果未评审的进行批量驳回  评审结论 驳回  驳回原因必填  状态变成 未开始 ，前一个节点对应 进行中（local_flow_id 找出）

驳回的看不到了，在前一个节点是进行中


前端传一个list ,包含node表的主键 
当时批量同意时，Java先过滤同意的数据
未评审的status修改为完成，评审结论修改为同意

当批量驳回时，不管时同意还是未评审的
评审结论 驳回  驳回原因必填  状态变成未开始 
如果是未评审的
根据 local_flow_id  和  当前node_code  - 10 更新 node_status start
如果是同意的 
根据local_flow_id  和  当前node_code  + 10 更新 node_status upstart